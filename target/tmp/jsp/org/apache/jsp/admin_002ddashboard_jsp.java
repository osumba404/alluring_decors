/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: jetty/9.4.53.v20231009
 * Generated at: 2025-11-17 17:48:45 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class admin_002ddashboard_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  static {
    _jspx_dependants = new java.util.HashMap<java.lang.String,java.lang.Long>(2);
    _jspx_dependants.put("file:/C:/Users/evans/.m2/repository/javax/servlet/jstl/1.2/jstl-1.2.jar", Long.valueOf(1762356976687L));
    _jspx_dependants.put("jar:file:/C:/Users/evans/.m2/repository/javax/servlet/jstl/1.2/jstl-1.2.jar!/META-INF/c.tld", Long.valueOf(1153374282000L));
  }

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\n");
      out.write("\n");
      out.write("<!DOCTYPE html>\n");
      out.write("<html>\n");
      out.write("<head>\n");
      out.write("    <meta charset=\"UTF-8\">\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n");
      out.write("    <title>Admin Dashboard - Alluring Decors</title>\n");
      out.write("    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\n");
      out.write("    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css\" integrity=\"sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\n");
      out.write("    <link rel=\"stylesheet\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/fontawesome-fix.css\">\n");
      out.write("    <link rel=\"stylesheet\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/style.css\">\n");
      out.write("    <link rel=\"stylesheet\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/navbar-override.css\">\n");
      out.write("    <link rel=\"stylesheet\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/admin-sidebar.css\">\n");
      out.write("    <link rel=\"stylesheet\" href=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${pageContext.request.contextPath}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("/css/admin-scale-new.css\">\n");
      out.write("    <style>\n");
      out.write("        /* Modern Modal Styles */\n");
      out.write("        .modal {\n");
      out.write("            display: none;\n");
      out.write("            position: fixed;\n");
      out.write("            z-index: 1000;\n");
      out.write("            left: 0;\n");
      out.write("            top: 0;\n");
      out.write("            width: 100%;\n");
      out.write("            height: 100%;\n");
      out.write("            background: rgba(22, 78, 49, 0.8);\n");
      out.write("            backdrop-filter: blur(5px);\n");
      out.write("            animation: fadeIn 0.3s ease;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .modal-content {\n");
      out.write("            background: linear-gradient(135deg, #F8F5F0 0%, #ffffff 100%);\n");
      out.write("            margin: 3% auto;\n");
      out.write("            padding: 0;\n");
      out.write("            border-radius: 15px;\n");
      out.write("            width: 90%;\n");
      out.write("            max-width: 488px;\n");
      out.write("            position: relative;\n");
      out.write("            box-shadow: 0 19px 38px rgba(22, 78, 49, 0.3);\n");
      out.write("            animation: slideIn 0.4s ease;\n");
      out.write("            overflow: hidden;\n");
      out.write("            border: 2px solid #D4A017;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .modal-header {\n");
      out.write("            background: linear-gradient(135deg, #164e31 0%, #1a5a38 100%);\n");
      out.write("            color: #D4A017;\n");
      out.write("            padding: 19px 23px;\n");
      out.write("            border-bottom: 2px solid #D4A017;\n");
      out.write("            position: relative;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .modal-header h3 {\n");
      out.write("            margin: 0;\n");
      out.write("            font-size: 1.35rem;\n");
      out.write("            font-weight: 600;\n");
      out.write("            color: #D4A017;\n");
      out.write("            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .close {\n");
      out.write("            position: absolute;\n");
      out.write("            right: 15px;\n");
      out.write("            top: 50%;\n");
      out.write("            transform: translateY(-50%);\n");
      out.write("            color: #D4A017;\n");
      out.write("            font-size: 24px;\n");
      out.write("            font-weight: bold;\n");
      out.write("            cursor: pointer;\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("            width: 30px;\n");
      out.write("            height: 30px;\n");
      out.write("            display: flex;\n");
      out.write("            align-items: center;\n");
      out.write("            justify-content: center;\n");
      out.write("            border-radius: 50%;\n");
      out.write("            background: rgba(212, 160, 23, 0.1);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .close:hover {\n");
      out.write("            background: #D4A017;\n");
      out.write("            color: #164e31;\n");
      out.write("            transform: translateY(-50%) rotate(90deg);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .modal-body {\n");
      out.write("            padding: 23px;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .modal .form-group {\n");
      out.write("            margin-bottom: 19px;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .modal .form-group label {\n");
      out.write("            display: block;\n");
      out.write("            margin-bottom: 6px;\n");
      out.write("            font-weight: 600;\n");
      out.write("            color: #164e31;\n");
      out.write("            font-size: 0.83rem;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .modal input, .modal textarea, .modal select {\n");
      out.write("            width: 100%;\n");
      out.write("            padding: 11px 15px;\n");
      out.write("            border: 2px solid #e0e0e0;\n");
      out.write("            border-radius: 9px;\n");
      out.write("            font-size: 0.75rem;\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("            background: #ffffff;\n");
      out.write("            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .modal input:focus, .modal textarea:focus, .modal select:focus {\n");
      out.write("            outline: none;\n");
      out.write("            border-color: #D4A017;\n");
      out.write("            box-shadow: 0 0 0 3px rgba(212, 160, 23, 0.2);\n");
      out.write("            transform: translateY(-2px);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .modal input[readonly] {\n");
      out.write("            background: #f8f9fa;\n");
      out.write("            color: #6c757d;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .modal .btn-primary {\n");
      out.write("            background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%);\n");
      out.write("            border: none;\n");
      out.write("            color: #164e31;\n");
      out.write("            padding: 11px 23px;\n");
      out.write("            border-radius: 9px;\n");
      out.write("            font-size: 0.83rem;\n");
      out.write("            font-weight: 600;\n");
      out.write("            cursor: pointer;\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("            box-shadow: 0 6px 15px rgba(212, 160, 23, 0.3);\n");
      out.write("            text-transform: uppercase;\n");
      out.write("            letter-spacing: 1px;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .modal .btn-primary:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 12px 25px rgba(212, 160, 23, 0.4);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        /* Action Buttons */\n");
      out.write("        .action-btn {\n");
      out.write("            background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%);\n");
      out.write("            border: none;\n");
      out.write("            color: #164e31;\n");
      out.write("            padding: 6px 12px;\n");
      out.write("            border-radius: 6px;\n");
      out.write("            font-size: 0.68rem;\n");
      out.write("            font-weight: 600;\n");
      out.write("            cursor: pointer;\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("            margin-right: 6px;\n");
      out.write("            box-shadow: 0 3px 9px rgba(212, 160, 23, 0.3);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .action-btn:hover {\n");
      out.write("            transform: translateY(-2px);\n");
      out.write("            box-shadow: 0 6px 16px rgba(212, 160, 23, 0.4);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .action-btn.view {\n");
      out.write("            background: linear-gradient(135deg, #164e31 0%, #1a5a38 100%);\n");
      out.write("            color: #D4A017;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .action-btn.delete {\n");
      out.write("            background: linear-gradient(135deg, #dc3545 0%, #e74c3c 100%);\n");
      out.write("            color: white;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        /* Loading Spinner */\n");
      out.write("        .loading {\n");
      out.write("            display: inline-block;\n");
      out.write("            width: 20px;\n");
      out.write("            height: 20px;\n");
      out.write("            border: 3px solid #f3f3f3;\n");
      out.write("            border-top: 3px solid #164e31;\n");
      out.write("            border-radius: 50%;\n");
      out.write("            animation: spin 1s linear infinite;\n");
      out.write("            margin-right: 10px;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        @keyframes spin {\n");
      out.write("            0% { transform: rotate(0deg); }\n");
      out.write("            100% { transform: rotate(360deg); }\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .btn-loading {\n");
      out.write("            opacity: 0.7;\n");
      out.write("            pointer-events: none;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        /* Success Message */\n");
      out.write("        .success-message {\n");
      out.write("            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);\n");
      out.write("            color: white;\n");
      out.write("            padding: 15px 20px;\n");
      out.write("            border-radius: 8px;\n");
      out.write("            margin-bottom: 20px;\n");
      out.write("            display: none;\n");
      out.write("            animation: slideDown 0.3s ease;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        @keyframes slideDown {\n");
      out.write("            from { transform: translateY(-20px); opacity: 0; }\n");
      out.write("            to { transform: translateY(0); opacity: 1; }\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        /* Enhanced Tables */\n");
      out.write("        .admin-table {\n");
      out.write("            width: 100%;\n");
      out.write("            border-collapse: collapse;\n");
      out.write("            margin-top: 20px;\n");
      out.write("            background: white;\n");
      out.write("            border-radius: 12px;\n");
      out.write("            overflow: hidden;\n");
      out.write("            box-shadow: 0 8px 25px rgba(0,0,0,0.1);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .admin-table th {\n");
      out.write("            background: linear-gradient(135deg, #164e31 0%, #1a5a38 100%);\n");
      out.write("            color: #D4A017;\n");
      out.write("            padding: 14px 11px;\n");
      out.write("            text-align: left;\n");
      out.write("            font-weight: 600;\n");
      out.write("            text-transform: uppercase;\n");
      out.write("            letter-spacing: 1px;\n");
      out.write("            font-size: 0.68rem;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .admin-table td {\n");
      out.write("            padding: 11px;\n");
      out.write("            border-bottom: 1px solid #f0f0f0;\n");
      out.write("            transition: background 0.3s ease;\n");
      out.write("            font-size: 0.75rem;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .admin-table tr:hover {\n");
      out.write("            background: rgba(212, 160, 23, 0.05);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        /* Header Action Button */\n");
      out.write("        .header-action-btn {\n");
      out.write("            background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%);\n");
      out.write("            border: none;\n");
      out.write("            color: #164e31;\n");
      out.write("            padding: 9px 18px;\n");
      out.write("            border-radius: 9px;\n");
      out.write("            font-size: 0.75rem;\n");
      out.write("            font-weight: 600;\n");
      out.write("            cursor: pointer;\n");
      out.write("            transition: all 0.3s ease;\n");
      out.write("            box-shadow: 0 6px 15px rgba(212, 160, 23, 0.3);\n");
      out.write("            margin-left: 15px;\n");
      out.write("            text-transform: uppercase;\n");
      out.write("            letter-spacing: 1px;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .header-action-btn:hover {\n");
      out.write("            transform: translateY(-3px);\n");
      out.write("            box-shadow: 0 12px 25px rgba(212, 160, 23, 0.4);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        .dashboard-header {\n");
      out.write("            display: flex;\n");
      out.write("            justify-content: space-between;\n");
      out.write("            align-items: center;\n");
      out.write("            margin-bottom: 23px;\n");
      out.write("            padding: 15px 0;\n");
      out.write("            border-bottom: 2px solid #f0f0f0;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        @keyframes fadeIn {\n");
      out.write("            from { opacity: 0; }\n");
      out.write("            to { opacity: 1; }\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        @keyframes slideIn {\n");
      out.write("            from { transform: translateY(-50px); opacity: 0; }\n");
      out.write("            to { transform: translateY(0); opacity: 1; }\n");
      out.write("        }\n");
      out.write("    </style>\n");
      out.write("</head>\n");
      out.write("<body class=\"admin-page\">\n");
      out.write("    ");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "includes/navbar.jsp", out, false);
      out.write("\n");
      out.write("\n");
      out.write("    <div class=\"admin-layout\">\n");
      out.write("        <aside class=\"sidebar\" id=\"sidebar\">\n");
      out.write("            <div class=\"sidebar-header\">\n");
      out.write("                <h3 class=\"sidebar-title\">Admin Panel</h3>\n");
      out.write("                <button class=\"sidebar-toggle\" onclick=\"toggleSidebar()\">â˜°</button>\n");
      out.write("            </div>\n");
      out.write("            <nav class=\"sidebar-menu\">\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('users')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-users\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">Manage Users</span>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('projects')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-project-diagram\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">Manage Projects</span>\n");
      out.write("                </a>\n");
      out.write("\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('domains')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-tags\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">Manage Domains</span>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('services')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-cogs\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">Manage Services</span>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('content')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-edit\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">Edit Content</span>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('contacts')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-phone\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">Manage Contacts</span>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('feedback')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-comments\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">View Feedback</span>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('faqs')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-question-circle\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">Manage FAQs</span>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('requests')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-envelope\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">Service Requests</span>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('bills')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-file-invoice\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">Bill Details</span>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('payments')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-credit-card\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">Payment Details</span>\n");
      out.write("                </a>\n");
      out.write("                <a href=\"javascript:void(0)\" class=\"sidebar-item\" onclick=\"loadContent('heroes')\">\n");
      out.write("                    <span class=\"sidebar-item-icon\"><i class=\"fas fa-images\"></i></span>\n");
      out.write("                    <span class=\"sidebar-item-text\">Hero Carousel</span>\n");
      out.write("                </a>\n");
      out.write("            </nav>\n");
      out.write("        </aside>\n");
      out.write("        \n");
      out.write("        <main class=\"main-content\" id=\"mainContent\">\n");
      out.write("            <div class=\"dashboard-header\">\n");
      out.write("                <h1 class=\"dashboard-title\">Admin Dashboard</h1>\n");
      out.write("                <p class=\"dashboard-subtitle\">Select an option from the menu to get started</p>\n");
      out.write("            </div>\n");
      out.write("            \n");
      out.write("            <div class=\"admin-grid\">\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('users')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-users\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">Users</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>View, edit, and delete registered users</p>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('projects')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-project-diagram\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">Projects</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>Add, edit, and delete projects</p>\n");
      out.write("                </div>\n");
      out.write("\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('domains')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-tags\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">Domains</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>Configure service domains and categories</p>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('services')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-cogs\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">Services</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>Configure services, pricing, and models</p>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('content')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-edit\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">Content</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>Update home page content and about us section</p>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('contacts')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-phone\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">Contacts</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>Update contact information and addresses</p>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('feedback')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-comments\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">Feedback</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>Review customer feedback and queries</p>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('faqs')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-question-circle\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">FAQs</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>Add, edit, and delete frequently asked questions</p>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('requests')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-envelope\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">Service Requests</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>View and manage customer service requests</p>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('bills')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-file-invoice\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">Bill Details</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>Manage bills based on service requests and area</p>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('payments')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-credit-card\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">Payment Details</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>Track payments, due amounts, and balance details</p>\n");
      out.write("                </div>\n");
      out.write("                <div class=\"admin-card\" onclick=\"loadContent('heroes')\" style=\"cursor: pointer;\">\n");
      out.write("                    <div style=\"display: flex; align-items: center; margin-bottom: 1rem;\">\n");
      out.write("                        <div style=\"width: 50px; height: 50px; background: linear-gradient(135deg, #D4A017 0%, #f4c430 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; margin-right: 1rem;\">\n");
      out.write("                            <i class=\"fas fa-images\" style=\"color: #164e31; font-size: 1.5rem;\"></i>\n");
      out.write("                        </div>\n");
      out.write("                        <h4 style=\"margin: 0; color: #164e31; font-size: 1.3rem;\">Hero Carousel</h4>\n");
      out.write("                    </div>\n");
      out.write("                    <p>Manage home page hero slides and carousel</p>\n");
      out.write("                </div>\n");
      out.write("            </div>\n");
      out.write("        </main>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <!-- Enhanced Modal for forms -->\n");
      out.write("    <div id=\"formModal\" class=\"modal\">\n");
      out.write("        <div class=\"modal-content\">\n");
      out.write("            <div class=\"modal-header\">\n");
      out.write("                <h3 id=\"modalTitle\">Form</h3>\n");
      out.write("                <span class=\"close\" onclick=\"closeModal()\">&times;</span>\n");
      out.write("            </div>\n");
      out.write("            <div class=\"modal-body\" id=\"modalBody\"></div>\n");
      out.write("        </div>\n");
      out.write("    </div>\n");
      out.write("\n");
      out.write("    <script>\n");
      out.write("        function toggleSidebar() {\n");
      out.write("            document.getElementById('sidebar').classList.toggle('collapsed');\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function loadContent(section) {\n");
      out.write("            const mainContent = document.getElementById('mainContent');\n");
      out.write("            \n");
      out.write("            // Save current section to localStorage\n");
      out.write("            localStorage.setItem('adminCurrentSection', section);\n");
      out.write("            \n");
      out.write("            // Update active menu item\n");
      out.write("            document.querySelectorAll('.sidebar-item').forEach(item => {\n");
      out.write("                item.classList.remove('active');\n");
      out.write("            });\n");
      out.write("            \n");
      out.write("            // Find and activate the correct menu item\n");
      out.write("            if (event && event.target) {\n");
      out.write("                event.target.closest('.sidebar-item').classList.add('active');\n");
      out.write("            } else {\n");
      out.write("                // For programmatic calls, find the menu item by section name\n");
      out.write("                const menuItems = document.querySelectorAll('.sidebar-item');\n");
      out.write("                menuItems.forEach(item => {\n");
      out.write("                    const onclick = item.getAttribute('onclick');\n");
      out.write("                    if (onclick && onclick.includes(\"'\" + section + \"'\")) {\n");
      out.write("                        item.classList.add('active');\n");
      out.write("                    }\n");
      out.write("                });\n");
      out.write("            }\n");
      out.write("            \n");
      out.write("            // Load content based on section\n");
      out.write("            fetch('/alluring-decors/admin/' + section + '?ajax=true')\n");
      out.write("                .then(response => response.text())\n");
      out.write("                .then(html => {\n");
      out.write("                    mainContent.innerHTML = html;\n");
      out.write("                })\n");
      out.write("                .catch(error => {\n");
      out.write("                    mainContent.innerHTML = `\n");
      out.write("                        <div class=\"dashboard-header\">\n");
      out.write("                            <h1 class=\"dashboard-title\">Error</h1>\n");
      out.write("                            <p class=\"dashboard-subtitle\">Failed to load content</p>\n");
      out.write("                        </div>\n");
      out.write("                    `;\n");
      out.write("                });\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        window.openModal = function(title, formHtml) {\n");
      out.write("            document.getElementById('modalTitle').textContent = title;\n");
      out.write("            document.getElementById('modalBody').innerHTML = formHtml;\n");
      out.write("            document.getElementById('formModal').style.display = 'block';\n");
      out.write("            document.body.style.overflow = 'hidden';\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        window.closeModal = function() {\n");
      out.write("            document.getElementById('formModal').style.display = 'none';\n");
      out.write("            document.body.style.overflow = 'auto';\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function submitModalForm(form) {\n");
      out.write("            // For file uploads, use regular form submission\n");
      out.write("            if (form.enctype === 'multipart/form-data' || form.getAttribute('enctype') === 'multipart/form-data') {\n");
      out.write("                closeModal();\n");
      out.write("                form.submit();\n");
      out.write("                return;\n");
      out.write("            }\n");
      out.write("            \n");
      out.write("            const submitBtn = form.querySelector('button[type=\"submit\"]');\n");
      out.write("            const originalText = submitBtn.innerHTML;\n");
      out.write("            \n");
      out.write("            // Show loading state\n");
      out.write("            submitBtn.innerHTML = '<span class=\"loading\"></span>Saving...';\n");
      out.write("            submitBtn.classList.add('btn-loading');\n");
      out.write("            \n");
      out.write("            const formData = new FormData(form);\n");
      out.write("            const action = form.getAttribute('action');\n");
      out.write("            \n");
      out.write("            fetch(action, {\n");
      out.write("                method: 'POST',\n");
      out.write("                body: formData\n");
      out.write("            })\n");
      out.write("            .then(response => {\n");
      out.write("                if (response.ok) {\n");
      out.write("                    closeModal();\n");
      out.write("                    showSuccessMessage('Operation completed successfully!');\n");
      out.write("                    const currentSection = localStorage.getItem('adminCurrentSection');\n");
      out.write("                    if (currentSection) {\n");
      out.write("                        loadContent(currentSection);\n");
      out.write("                    }\n");
      out.write("                } else {\n");
      out.write("                    return response.text().then(text => {\n");
      out.write("                        throw new Error(`Server error (");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${response.status}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write(')');
      out.write(':');
      out.write(' ');
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${text}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null));
      out.write("`);\n");
      out.write("                    });\n");
      out.write("                }\n");
      out.write("            })\n");
      out.write("            .catch(error => {\n");
      out.write("                alert('Error submitting form: ' + error.message);\n");
      out.write("            })\n");
      out.write("            .finally(() => {\n");
      out.write("                submitBtn.innerHTML = originalText;\n");
      out.write("                submitBtn.classList.remove('btn-loading');\n");
      out.write("            });\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        // Global functions for all admin forms\n");
      out.write("        function showAddProjectForm() {\n");
      out.write("            const formHtml = '<form method=\"post\" action=\"/alluring-decors/admin/projects\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Title:</label><input type=\"text\" name=\"title\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Short Description:</label><textarea name=\"shortDescription\" rows=\"3\" required></textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Full Description:</label><textarea name=\"fullDescription\" rows=\"4\"></textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Client Name:</label><input type=\"text\" name=\"clientName\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Location:</label><input type=\"text\" name=\"location\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Start Date:</label><input type=\"date\" name=\"startDate\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>End Date:</label><input type=\"date\" name=\"endDate\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Image URL:</label><input type=\"url\" name=\"thumbnailUrl\" placeholder=\"https://example.com/image.jpg\"></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\">Add Project</button></form>';\n");
      out.write("            openModal('Add New Project', formHtml);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function submitDirectForm(form) {\n");
      out.write("            form.submit();\n");
      out.write("            return false;\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showViewProjectForm(id, title, client, location, startDate, shortDesc, fullDesc) {\n");
      out.write("            const formHtml = '<div class=\"form-group\"><label>Title:</label><input type=\"text\" value=\"' + (title || '') + '\" readonly></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Client:</label><input type=\"text\" value=\"' + (client || '') + '\" readonly></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Location:</label><input type=\"text\" value=\"' + (location || '') + '\" readonly></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Start Date:</label><input type=\"text\" value=\"' + (startDate || 'N/A') + '\" readonly></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Short Description:</label><textarea rows=\"3\" readonly>' + (shortDesc || '') + '</textarea></div>' +\n");
      out.write("                (fullDesc ? '<div class=\"form-group\"><label>Full Description:</label><textarea rows=\"4\" readonly>' + fullDesc + '</textarea></div>' : '');\n");
      out.write("            openModal('Project Details', formHtml);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showEditProjectForm(id, title, client, location, category, shortDesc, fullDesc, startDate, endDate, thumbnailUrl) {\n");
      out.write("            const formHtml = '<form method=\"post\" action=\"/alluring-decors/admin/projects\">' +\n");
      out.write("                '<input type=\"hidden\" name=\"projectId\" value=\"' + id + '\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Title:</label><input type=\"text\" name=\"title\" value=\"' + title + '\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Client Name:</label><input type=\"text\" name=\"clientName\" value=\"' + client + '\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Location:</label><input type=\"text\" name=\"location\" value=\"' + location + '\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Short Description:</label><textarea name=\"shortDescription\" rows=\"3\" required>' + shortDesc + '</textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Full Description:</label><textarea name=\"fullDescription\" rows=\"4\">' + (fullDesc || '') + '</textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Start Date:</label><input type=\"date\" name=\"startDate\" value=\"' + (startDate !== 'N/A' ? startDate : '') + '\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>End Date:</label><input type=\"date\" name=\"endDate\" value=\"' + (endDate || '') + '\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Image URL:</label><input type=\"url\" name=\"thumbnailUrl\" value=\"' + (thumbnailUrl || '') + '\" placeholder=\"https://example.com/image.jpg\"></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\">Update Project</button></form>';\n");
      out.write("            openModal('Edit Project', formHtml);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        // Simple functions that servlet calls with just ID\n");
      out.write("        function showViewProject(id) {\n");
      out.write("            // Fetch project details and show view modal\n");
      out.write("            fetch('projects?action=view&id=' + id + '&ajax=true')\n");
      out.write("                .then(response => response.json())\n");
      out.write("                .then(project => {\n");
      out.write("                    showViewProjectForm(project.projectId, project.title, project.clientName, project.location, \n");
      out.write("                        project.startDate || 'N/A', project.shortDescription, project.fullDescription);\n");
      out.write("                })\n");
      out.write("                .catch(error => {\n");
      out.write("                    console.error('Error fetching project:', error);\n");
      out.write("                    alert('Error loading project details');\n");
      out.write("                });\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showEditProject(id) {\n");
      out.write("            // Fetch project details and show edit modal\n");
      out.write("            fetch('projects?action=view&id=' + id + '&ajax=true')\n");
      out.write("                .then(response => response.json())\n");
      out.write("                .then(project => {\n");
      out.write("                    showEditProjectForm(project.projectId, project.title, project.clientName, project.location, \n");
      out.write("                        project.category, project.shortDescription, project.fullDescription, project.startDate);\n");
      out.write("                })\n");
      out.write("                .catch(error => {\n");
      out.write("                    console.error('Error fetching project:', error);\n");
      out.write("                    alert('Error loading project details');\n");
      out.write("                });\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showAddDomainForm() {\n");
      out.write("            openModal('Add New Domain', \n");
      out.write("                '<form method=\"post\" action=\"domains\" enctype=\"multipart/form-data\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Domain Name:</label><input type=\"text\" name=\"name\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Description:</label><textarea name=\"description\" rows=\"3\" required></textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Icon Image:</label><input type=\"file\" name=\"iconImage\" accept=\"image/*\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label><input type=\"checkbox\" name=\"isActive\" value=\"true\" checked> Active</label></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\">Add Domain</button></form>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showAddServiceForm() {\n");
      out.write("            openModal('Add New Service', \n");
      out.write("                '<form method=\"post\" action=\"/alluring-decors/admin/services\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Service Name:</label><input type=\"text\" name=\"name\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Description:</label><textarea name=\"description\" rows=\"3\" required></textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Price per Sqft:</label><input type=\"number\" name=\"pricePerSqft\" step=\"0.01\" required></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\">Add Service</button></form>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showAddContentForm() {\n");
      out.write("            const formHtml = '<form method=\"post\" action=\"content\" data-direct-submit onsubmit=\"closeModal(); return true;\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Section Key:</label><input type=\"text\" name=\"sectionKey\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Title:</label><input type=\"text\" name=\"title\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Content:</label><textarea name=\"content\" rows=\"6\" required></textarea></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\">Add Content</button></form>';\n");
      out.write("            openModal('Add New Content', formHtml);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showEditContactForm() {\n");
      out.write("            openModal('Update Contact Information', \n");
      out.write("                '<form method=\"post\" action=\"contacts\" data-direct-submit onsubmit=\"console.log(\\'Contact form submitting...\\'); closeModal(); return true;\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Phone Number:</label><input type=\"tel\" name=\"phone\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Email Address:</label><input type=\"email\" name=\"email\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Address:</label><textarea name=\"address\" rows=\"3\" required></textarea></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\" onclick=\"console.log(\\'Contact button clicked\\');\">Update Contact Info</button></form>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showAddFaqForm() {\n");
      out.write("            openModal('Add New FAQ', \n");
      out.write("                '<form method=\"post\" action=\"/alluring-decors/admin/faqs\" enctype=\"application/x-www-form-urlencoded\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Question:</label><input type=\"text\" name=\"question\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Answer:</label><textarea name=\"answer\" rows=\"4\" required></textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Display Order:</label><input type=\"number\" name=\"displayOrder\" value=\"0\" required></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\">Add FAQ</button></form>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showEditServiceForm(id, name, description, price) {\n");
      out.write("            openModal('Edit Service', \n");
      out.write("                '<form method=\"post\" action=\"/alluring-decors/admin/services\">' +\n");
      out.write("                '<input type=\"hidden\" name=\"serviceId\" value=\"' + id + '\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Service Name:</label><input type=\"text\" name=\"name\" value=\"' + name + '\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Description:</label><textarea name=\"description\" rows=\"3\" required>' + description + '</textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Price per Sqft:</label><input type=\"number\" name=\"pricePerSqft\" step=\"0.01\" value=\"' + price + '\" required></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\">Update Service</button></form>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showEditFaqForm(id, question, answer, order) {\n");
      out.write("            openModal('Edit FAQ', \n");
      out.write("                '<form method=\"post\" action=\"/alluring-decors/admin/faqs\" enctype=\"application/x-www-form-urlencoded\">' +\n");
      out.write("                '<input type=\"hidden\" name=\"faqId\" value=\"' + id + '\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Question:</label><input type=\"text\" name=\"question\" value=\"' + question + '\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Answer:</label><textarea name=\"answer\" rows=\"4\" required>' + answer + '</textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Display Order:</label><input type=\"number\" name=\"displayOrder\" value=\"' + order + '\" required></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\">Update FAQ</button></form>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showEditContentForm(key, title, content) {\n");
      out.write("            const formHtml = '<form method=\"post\" action=\"content\" data-direct-submit onsubmit=\"closeModal(); return true;\">' +\n");
      out.write("                '<input type=\"hidden\" name=\"sectionKey\" value=\"' + key + '\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Title:</label><input type=\"text\" name=\"title\" value=\"' + title + '\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Content:</label><textarea name=\"content\" rows=\"8\" required>' + content + '</textarea></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\">Update Content</button></form>';\n");
      out.write("            openModal('Edit Content - ' + title, formHtml);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showUserDetails(id, username, fullName, email, phone, role) {\n");
      out.write("            openModal('User Details', \n");
      out.write("                '<div class=\"form-group\"><label>User ID:</label><input type=\"text\" value=\"' + id + '\" readonly></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Username:</label><input type=\"text\" value=\"' + username + '\" readonly></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Full Name:</label><input type=\"text\" value=\"' + fullName + '\" readonly></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Email:</label><input type=\"email\" value=\"' + email + '\" readonly></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Phone:</label><input type=\"text\" value=\"' + phone + '\" readonly></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Role:</label><input type=\"text\" value=\"' + role + '\" readonly></div>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function viewFeedback(id) {\n");
      out.write("            fetch('/alluring-decors/admin/feedback?action=view&id=' + id)\n");
      out.write("                .then(response => response.json())\n");
      out.write("                .then(feedback => {\n");
      out.write("                    const modalContent = \n");
      out.write("                        '<div style=\"background: white; padding: 0; border-radius: 12px;\">' +\n");
      out.write("                        '<div style=\"background: linear-gradient(135deg, #164e31 0%, #1a5a38 100%); color: #D4A017; padding: 20px; border-radius: 12px 12px 0 0; text-align: center;\">' +\n");
      out.write("                        '<h3 style=\"margin: 0; font-size: 1.4rem;\"><i class=\"fas fa-comment-alt\"></i> Feedback Report</h3>' +\n");
      out.write("                        '</div>' +\n");
      out.write("                        '<div style=\"padding: 25px;\">' +\n");
      out.write("                        '<div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;\">' +\n");
      out.write("                        '<div style=\"background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #D4A017;\"><strong>Feedback ID:</strong><br>' + feedback.feedbackId + '</div>' +\n");
      out.write("                        '<div style=\"background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #D4A017;\"><strong>Name:</strong><br>' + (feedback.name || 'Anonymous') + '</div>' +\n");
      out.write("                        '<div style=\"background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #D4A017;\"><strong>Email:</strong><br>' + (feedback.email || 'Not provided') + '</div>' +\n");
      out.write("                        '<div style=\"background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #D4A017;\"><strong>Type:</strong><br>' + (feedback.type || 'General') + '</div>' +\n");
      out.write("                        '</div>' +\n");
      out.write("                        '<div style=\"background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #164e31; margin-bottom: 20px;\"><strong>Message:</strong><br>' +\n");
      out.write("                        '<div style=\"margin-top: 8px; line-height: 1.6; color: #495057;\">' + (feedback.message || 'No message') + '</div></div>' +\n");
      out.write("                        '<div style=\"text-align: center; color: #6c757d; font-size: 0.9rem; border-top: 1px solid #e9ecef; padding-top: 15px;\">Submitted on: ' + (feedback.submittedAt || 'Unknown date') + '</div>' +\n");
      out.write("                        '</div></div>';\n");
      out.write("                    \n");
      out.write("                    document.getElementById('modalTitle').textContent = 'Customer Feedback Details';\n");
      out.write("                    document.getElementById('modalBody').innerHTML = modalContent;\n");
      out.write("                    const modal = document.getElementById('formModal');\n");
      out.write("                    const modalContentDiv = modal.querySelector('.modal-content');\n");
      out.write("                    modalContentDiv.style.maxWidth = '700px';\n");
      out.write("                    modal.style.display = 'block';\n");
      out.write("                    document.body.style.overflow = 'hidden';\n");
      out.write("                })\n");
      out.write("                .catch(error => {\n");
      out.write("                    console.error('Error loading feedback:', error);\n");
      out.write("                    alert('Error loading feedback details');\n");
      out.write("                });\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function generateStars(rating) {\n");
      out.write("            let stars = '';\n");
      out.write("            for (let i = 1; i <= 5; i++) {\n");
      out.write("                if (i <= rating) {\n");
      out.write("                    stars += '<i class=\"fas fa-star\" style=\"color: #ffc107;\"></i>';\n");
      out.write("                } else {\n");
      out.write("                    stars += '<i class=\"far fa-star\" style=\"color: #dee2e6;\"></i>';\n");
      out.write("                }\n");
      out.write("            }\n");
      out.write("            return stars + ' (' + rating + '/5)';\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showAddHeroForm() {\n");
      out.write("            openModal('Add Hero Slide', \n");
      out.write("                '<form id=\"addHeroForm\" method=\"post\" action=\"/alluring-decors/admin/heroes\" enctype=\"multipart/form-data\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Title:</label><input type=\"text\" name=\"title\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Subtitle:</label><input type=\"text\" name=\"subtitle\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Body Text:</label><textarea name=\"bodyText\" rows=\"3\" required></textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Upload Background Image:</label><input type=\"file\" name=\"heroImage\" accept=\"image/*\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Primary Button Text:</label><input type=\"text\" name=\"primaryButton\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Primary Button Link:</label><input type=\"text\" name=\"primaryButtonLink\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Secondary Button Text:</label><input type=\"text\" name=\"secondaryButton\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Secondary Button Link:</label><input type=\"text\" name=\"secondaryButtonLink\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Display Order:</label><input type=\"number\" name=\"displayOrder\" value=\"1\" required></div>' +\n");
      out.write("                '<button type=\"button\" onclick=\"submitHeroForm()\" class=\"btn-primary\">Add Hero Slide</button></form>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        // Project management functions\n");
      out.write("        function showAddProjectForm() {\n");
      out.write("            openModal('Add New Project', \n");
      out.write("                '<form id=\"addProjectForm\" method=\"post\" action=\"/alluring-decors/admin/projects\" enctype=\"multipart/form-data\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Title:</label><input type=\"text\" name=\"title\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Short Description:</label><textarea name=\"shortDescription\" rows=\"3\" required></textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Full Description:</label><textarea name=\"fullDescription\" rows=\"4\"></textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Client Name:</label><input type=\"text\" name=\"clientName\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Location:</label><input type=\"text\" name=\"location\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Start Date:</label><input type=\"date\" name=\"startDate\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Completion Date:</label><input type=\"date\" name=\"endDate\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Upload Image:</label><input type=\"file\" name=\"projectImage\" accept=\"image/*\" required></div>' +\n");
      out.write("                '<button type=\"button\" onclick=\"submitProjectForm()\" class=\"btn-primary\">Add Project</button></form>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function viewProject(id) {\n");
      out.write("            // Simple view - fetch project data and display\n");
      out.write("            fetch('/alluring-decors/admin/projects?action=view&id=' + id)\n");
      out.write("                .then(response => response.json())\n");
      out.write("                .then(project => {\n");
      out.write("                    openModal('Project Details', \n");
      out.write("                        '<div class=\"form-group\"><label>Title:</label><input type=\"text\" value=\"' + project.title + '\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Client:</label><input type=\"text\" value=\"' + project.clientName + '\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Location:</label><input type=\"text\" value=\"' + project.location + '\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Category:</label><input type=\"text\" value=\"' + project.category + '\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Short Description:</label><textarea rows=\"3\" readonly>' + project.shortDescription + '</textarea></div>' +\n");
      out.write("                        (project.fullDescription ? '<div class=\"form-group\"><label>Full Description:</label><textarea rows=\"4\" readonly>' + project.fullDescription + '</textarea></div>' : '') +\n");
      out.write("                        (project.startDate ? '<div class=\"form-group\"><label>Start Date:</label><input type=\"text\" value=\"' + project.startDate + '\" readonly></div>' : '')\n");
      out.write("                    );\n");
      out.write("                })\n");
      out.write("                .catch(error => alert('Error loading project details'));\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function editProject(id) {\n");
      out.write("            // Simple edit - fetch project data and show edit form\n");
      out.write("            fetch('/alluring-decors/admin/projects?action=view&id=' + id)\n");
      out.write("                .then(response => response.json())\n");
      out.write("                .then(project => {\n");
      out.write("                    openModal('Edit Project', \n");
      out.write("                        '<form method=\"post\" action=\"/alluring-decors/admin/projects\" enctype=\"multipart/form-data\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"projectId\" value=\"' + project.projectId + '\">' +\n");
      out.write("                        '<div class=\"form-group\"><label>Title:</label><input type=\"text\" name=\"title\" value=\"' + project.title + '\" required></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Short Description:</label><textarea name=\"shortDescription\" rows=\"3\" required>' + project.shortDescription + '</textarea></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Full Description:</label><textarea name=\"fullDescription\" rows=\"4\">' + (project.fullDescription || '') + '</textarea></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Client Name:</label><input type=\"text\" name=\"clientName\" value=\"' + project.clientName + '\" required></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Location:</label><input type=\"text\" name=\"location\" value=\"' + project.location + '\" required></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Start Date:</label><input type=\"date\" name=\"startDate\" value=\"' + (project.startDate || '') + '\"></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Completion Date:</label><input type=\"date\" name=\"endDate\" value=\"' + (project.endDate || '') + '\"></div>' +\n");
      out.write("                        (project.thumbnailUrl ? '<div class=\"form-group\"><label>Current Image:</label><br><img src=\"' + project.thumbnailUrl + '\" style=\"max-width: 200px; border-radius: 8px; margin-bottom: 10px;\"></div>' : '') +\n");
      out.write("                        '<div class=\"form-group\"><label>Upload New Image:</label><input type=\"file\" name=\"projectImage\" accept=\"image/*\"></div>' +\n");
      out.write("                        '<button type=\"submit\" class=\"btn-primary\">Update Project</button></form>'\n");
      out.write("                    );\n");
      out.write("                })\n");
      out.write("                .catch(error => alert('Error loading project details'));\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showEditHeroForm(id, title, subtitle, bodyText, backgroundImage, primaryButton, primaryButtonLink, secondaryButton, secondaryButtonLink, displayOrder) {\n");
      out.write("            openModal('Edit Hero Slide', \n");
      out.write("                '<form id=\"editHeroForm\" method=\"post\" action=\"/alluring-decors/admin/heroes\" enctype=\"multipart/form-data\">' +\n");
      out.write("                '<input type=\"hidden\" name=\"heroId\" value=\"' + id + '\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Title:</label><input type=\"text\" name=\"title\" value=\"' + title + '\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Subtitle:</label><input type=\"text\" name=\"subtitle\" value=\"' + subtitle + '\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Body Text:</label><textarea name=\"bodyText\" rows=\"3\" required>' + bodyText + '</textarea></div>' +\n");
      out.write("                (backgroundImage ? '<div class=\"form-group\"><label>Current Image:</label><br><img src=\"' + backgroundImage + '\" style=\"max-width: 200px; border-radius: 8px; margin-bottom: 10px;\"></div>' : '') +\n");
      out.write("                '<div class=\"form-group\"><label>Upload New Background Image:</label><input type=\"file\" name=\"heroImage\" accept=\"image/*\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Primary Button Text:</label><input type=\"text\" name=\"primaryButton\" value=\"' + primaryButton + '\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Primary Button Link:</label><input type=\"text\" name=\"primaryButtonLink\" value=\"' + primaryButtonLink + '\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Secondary Button Text:</label><input type=\"text\" name=\"secondaryButton\" value=\"' + secondaryButton + '\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Secondary Button Link:</label><input type=\"text\" name=\"secondaryButtonLink\" value=\"' + secondaryButtonLink + '\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Display Order:</label><input type=\"number\" name=\"displayOrder\" value=\"' + displayOrder + '\" required></div>' +\n");
      out.write("                '<button type=\"button\" onclick=\"submitHeroForm()\" class=\"btn-primary\">Update Hero Slide</button></form>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showEditDomainForm(id, name, description, iconUrl, isActive) {\n");
      out.write("            const activeChecked = isActive ? 'checked' : '';\n");
      out.write("            openModal('Edit Domain', \n");
      out.write("                '<form method=\"post\" action=\"domains\" enctype=\"multipart/form-data\">' +\n");
      out.write("                '<input type=\"hidden\" name=\"domainId\" value=\"' + id + '\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Domain Name:</label><input type=\"text\" name=\"name\" value=\"' + name + '\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Description:</label><textarea name=\"description\" rows=\"3\" required>' + description + '</textarea></div>' +\n");
      out.write("                (iconUrl ? '<div class=\"form-group\"><label>Current Icon:</label><br><img src=\"' + iconUrl + '\" style=\"max-width: 100px; border-radius: 8px; margin-bottom: 10px;\"></div>' : '') +\n");
      out.write("                '<div class=\"form-group\"><label>Upload New Icon:</label><input type=\"file\" name=\"iconImage\" accept=\"image/*\"></div>' +\n");
      out.write("                '<div class=\"form-group\"><label><input type=\"checkbox\" name=\"isActive\" value=\"true\" ' + activeChecked + '> Active</label></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\">Update Domain</button></form>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function viewServiceRequest(id) {\n");
      out.write("            fetch('/alluring-decors/admin/requests?action=view&id=' + id)\n");
      out.write("                .then(response => response.json())\n");
      out.write("                .then(request => {\n");
      out.write("                    const modalContent = \n");
      out.write("                        '<div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;\">' +\n");
      out.write("                        '<div><strong>Request ID:</strong><br>' + request.requestId + '</div>' +\n");
      out.write("                        '<div><strong>Request Code:</strong><br>' + (request.requestCode || 'N/A') + '</div>' +\n");
      out.write("                        '<div><strong>Client Name:</strong><br>' + (request.clientName || 'N/A') + '</div>' +\n");
      out.write("                        '<div><strong>Service Domain:</strong><br>' + (request.location || 'N/A') + '</div>' +\n");
      out.write("                        '<div><strong>Area (sqft):</strong><br>' + (request.areaSqft || '0') + '</div>' +\n");
      out.write("                        '<div><strong>Status:</strong><br><span style=\"background: #ffc107; color: #000; padding: 4px 12px; border-radius: 12px; font-weight: 600;\">' + (request.statusName || 'N/A') + '</span></div>' +\n");
      out.write("                        '<div><strong>Request Date:</strong><br>' + (request.requestedAt || 'N/A') + '</div>' +\n");
      out.write("                        '</div>' +\n");
      out.write("                        '<div style=\"margin-bottom: 20px;\"><strong>Project Description:</strong><br>' +\n");
      out.write("                        '<div style=\"background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #164e31;\">' + (request.description || 'No description provided') + '</div></div>' +\n");
      out.write("                        '<form method=\"post\" action=\"/alluring-decors/admin/requests\" data-direct-submit onsubmit=\"closeModal(); return true;\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"action\" value=\"updateRemarks\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"requestId\" value=\"' + request.requestId + '\">' +\n");
      out.write("                        '<div class=\"form-group\"><label><strong>Admin Remarks:</strong></label>' +\n");
      out.write("                        '<textarea name=\"remarks\" rows=\"4\" style=\"width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 8px;\" placeholder=\"Add or update admin remarks...\">' + (request.remarks || '') + '</textarea></div>' +\n");
      out.write("                        '<button type=\"submit\" class=\"btn-primary\">Update Remarks</button></form>';\n");
      out.write("                    \n");
      out.write("                    // Use wider modal for better desktop view\n");
      out.write("                    document.getElementById('modalTitle').textContent = 'Service Request Details';\n");
      out.write("                    document.getElementById('modalBody').innerHTML = modalContent;\n");
      out.write("                    const modal = document.getElementById('formModal');\n");
      out.write("                    const modalContentDiv = modal.querySelector('.modal-content');\n");
      out.write("                    modalContentDiv.style.maxWidth = '800px';\n");
      out.write("                    modal.style.display = 'block';\n");
      out.write("                    document.body.style.overflow = 'hidden';\n");
      out.write("                })\n");
      out.write("                .catch(error => alert('Error loading request details'));\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showAddRequestForm() {\n");
      out.write("            openModal('Add New Service Request', \n");
      out.write("                '<form method=\"post\" action=\"/alluring-decors/admin/requests\">' +\n");
      out.write("                '<input type=\"hidden\" name=\"action\" value=\"create\">' +\n");
      out.write("                '<div class=\"form-group\"><label>Client Name:</label><input type=\"text\" name=\"clientName\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Client Email:</label><input type=\"email\" name=\"clientEmail\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Client Phone:</label><input type=\"tel\" name=\"clientPhone\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Service Domain:</label><input type=\"text\" name=\"domain\" placeholder=\"e.g., Home Decoration\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Area (sqft):</label><input type=\"number\" name=\"areaSqft\" step=\"0.01\" value=\"0\" required></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Project Description:</label><textarea name=\"description\" rows=\"3\" required></textarea></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Status:</label><select name=\"statusId\" required>' +\n");
      out.write("                '<option value=\"1\" selected>Request Received</option>' +\n");
      out.write("                '<option value=\"2\">Rejected</option>' +\n");
      out.write("                '<option value=\"3\">Accepted</option>' +\n");
      out.write("                '<option value=\"4\">Payment Received</option>' +\n");
      out.write("                '<option value=\"5\">Service Began</option>' +\n");
      out.write("                '<option value=\"6\">Service Completed</option>' +\n");
      out.write("                '</select></div>' +\n");
      out.write("                '<div class=\"form-group\"><label>Admin Remarks:</label><textarea name=\"remarks\" rows=\"2\" placeholder=\"Optional admin notes...\"></textarea></div>' +\n");
      out.write("                '<button type=\"submit\" class=\"btn-primary\">Create Request</button></form>'\n");
      out.write("            );\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function editServiceRequest(id) {\n");
      out.write("            fetch('/alluring-decors/admin/requests?action=view&id=' + id)\n");
      out.write("                .then(response => response.json())\n");
      out.write("                .then(request => {\n");
      out.write("                    openModal('Edit Service Request', \n");
      out.write("                        '<form method=\"post\" action=\"/alluring-decors/admin/requests\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"action\" value=\"update\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"requestId\" value=\"' + request.requestId + '\">' +\n");
      out.write("                        '<div class=\"form-group\"><label>Service Domain:</label><input type=\"text\" name=\"domain\" value=\"' + (request.location || '') + '\" required></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Area (sqft):</label><input type=\"number\" name=\"areaSqft\" step=\"0.01\" value=\"' + (request.areaSqft || '0') + '\" required></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Status:</label><select name=\"statusId\" required>' +\n");
      out.write("                        '<option value=\"1\"' + (request.statusId == 1 ? ' selected' : '') + '>Request Received</option>' +\n");
      out.write("                        '<option value=\"2\"' + (request.statusId == 2 ? ' selected' : '') + '>Rejected</option>' +\n");
      out.write("                        '<option value=\"3\"' + (request.statusId == 3 ? ' selected' : '') + '>Accepted</option>' +\n");
      out.write("                        '<option value=\"4\"' + (request.statusId == 4 ? ' selected' : '') + '>Payment Received</option>' +\n");
      out.write("                        '<option value=\"5\"' + (request.statusId == 5 ? ' selected' : '') + '>Service Began</option>' +\n");
      out.write("                        '<option value=\"6\"' + (request.statusId == 6 ? ' selected' : '') + '>Service Completed</option>' +\n");
      out.write("                        '</select></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Admin Remarks:</label><textarea name=\"remarks\" rows=\"3\" placeholder=\"Add admin notes...\">' + (request.remarks || '') + '</textarea></div>' +\n");
      out.write("                        '<button type=\"submit\" class=\"btn-primary\">Update Request</button></form>'\n");
      out.write("                    );\n");
      out.write("                })\n");
      out.write("                .catch(error => alert('Error loading request details'));\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function updateRequestStatus(id) {\n");
      out.write("            fetch('/alluring-decors/admin/requests?action=view&id=' + id)\n");
      out.write("                .then(response => response.json())\n");
      out.write("                .then(request => {\n");
      out.write("                    openModal('Update Request Status', \n");
      out.write("                        '<form method=\"post\" action=\"/alluring-decors/admin/requests\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"action\" value=\"update\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"requestId\" value=\"' + request.requestId + '\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"location\" value=\"' + (request.location || '') + '\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"areaSqft\" value=\"' + (request.areaSqft || '0') + '\">' +\n");
      out.write("                        '<div class=\"form-group\"><label>Current Status:</label><input type=\"text\" value=\"' + (request.statusName || 'N/A') + '\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>New Status:</label><select name=\"statusId\" required>' +\n");
      out.write("                        '<option value=\"1\"' + (request.statusId == 1 ? ' selected' : '') + '>Request Received</option>' +\n");
      out.write("                        '<option value=\"2\"' + (request.statusId == 2 ? ' selected' : '') + '>Rejected</option>' +\n");
      out.write("                        '<option value=\"3\"' + (request.statusId == 3 ? ' selected' : '') + '>Accepted</option>' +\n");
      out.write("                        '<option value=\"4\"' + (request.statusId == 4 ? ' selected' : '') + '>Payment Received</option>' +\n");
      out.write("                        '<option value=\"5\"' + (request.statusId == 5 ? ' selected' : '') + '>Service Began</option>' +\n");
      out.write("                        '<option value=\"6\"' + (request.statusId == 6 ? ' selected' : '') + '>Service Completed</option>' +\n");
      out.write("                        '</select></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Remarks:</label><textarea name=\"remarks\" rows=\"3\" placeholder=\"Add remarks about status change...\">' + (request.remarks || '') + '</textarea></div>' +\n");
      out.write("                        '<button type=\"submit\" class=\"btn-primary\">Update Status</button></form>'\n");
      out.write("                    );\n");
      out.write("                })\n");
      out.write("                .catch(error => alert('Error loading request details'));\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function approveRequest(id) {\n");
      out.write("            if (confirm('Approve this service request?')) {\n");
      out.write("                fetch('/alluring-decors/admin/requests?action=approve&id=' + id)\n");
      out.write("                    .then(response => {\n");
      out.write("                        if (response.ok) {\n");
      out.write("                            showSuccessMessage('Request approved successfully!');\n");
      out.write("                            loadContent('requests');\n");
      out.write("                        } else {\n");
      out.write("                            alert('Error approving request');\n");
      out.write("                        }\n");
      out.write("                    })\n");
      out.write("                    .catch(error => alert('Error approving request'));\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function rejectRequest(id) {\n");
      out.write("            if (confirm('Reject this service request?')) {\n");
      out.write("                fetch('/alluring-decors/admin/requests?action=reject&id=' + id)\n");
      out.write("                    .then(response => {\n");
      out.write("                        if (response.ok) {\n");
      out.write("                            showSuccessMessage('Request rejected successfully!');\n");
      out.write("                            loadContent('requests');\n");
      out.write("                        } else {\n");
      out.write("                            alert('Error rejecting request');\n");
      out.write("                        }\n");
      out.write("                    })\n");
      out.write("                    .catch(error => alert('Error rejecting request'));\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function deleteRequest(id) {\n");
      out.write("            if (confirm('Delete this service request? This action cannot be undone.')) {\n");
      out.write("                fetch('/alluring-decors/admin/requests?action=delete&id=' + id)\n");
      out.write("                    .then(response => {\n");
      out.write("                        if (response.ok) {\n");
      out.write("                            showSuccessMessage('Request deleted successfully!');\n");
      out.write("                            loadContent('requests');\n");
      out.write("                        } else {\n");
      out.write("                            alert('Error deleting request');\n");
      out.write("                        }\n");
      out.write("                    })\n");
      out.write("                    .catch(error => alert('Error deleting request'));\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function submitProjectForm() {\n");
      out.write("            const form = document.getElementById('addProjectForm');\n");
      out.write("            if (form) {\n");
      out.write("                console.log('Form found:', form);\n");
      out.write("                console.log('Form enctype:', form.enctype);\n");
      out.write("                console.log('Form method:', form.method);\n");
      out.write("                console.log('Form action:', form.action);\n");
      out.write("                \n");
      out.write("                const fileInput = form.querySelector('input[type=\"file\"]');\n");
      out.write("                if (fileInput && fileInput.files.length > 0) {\n");
      out.write("                    console.log('File selected:', fileInput.files[0].name);\n");
      out.write("                } else {\n");
      out.write("                    console.log('No file selected');\n");
      out.write("                }\n");
      out.write("                \n");
      out.write("                closeModal();\n");
      out.write("                form.submit();\n");
      out.write("            } else {\n");
      out.write("                console.log('Form not found!');\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function submitHeroForm() {\n");
      out.write("            const form = document.getElementById('addHeroForm') || document.getElementById('editHeroForm');\n");
      out.write("            if (form) {\n");
      out.write("                closeModal();\n");
      out.write("                form.submit();\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showSuccessMessage(message) {\n");
      out.write("            // Remove existing success message\n");
      out.write("            const existingMsg = document.querySelector('.success-message');\n");
      out.write("            if (existingMsg) {\n");
      out.write("                existingMsg.remove();\n");
      out.write("            }\n");
      out.write("            \n");
      out.write("            // Create and show new success message\n");
      out.write("            const successDiv = document.createElement('div');\n");
      out.write("            successDiv.className = 'success-message';\n");
      out.write("            successDiv.innerHTML = '<i class=\"fas fa-check-circle\"></i> ' + message;\n");
      out.write("            \n");
      out.write("            const mainContent = document.getElementById('mainContent');\n");
      out.write("            mainContent.insertBefore(successDiv, mainContent.firstChild);\n");
      out.write("            \n");
      out.write("            // Show the message\n");
      out.write("            setTimeout(() => {\n");
      out.write("                successDiv.style.display = 'block';\n");
      out.write("            }, 100);\n");
      out.write("            \n");
      out.write("            // Hide after 3 seconds\n");
      out.write("            setTimeout(() => {\n");
      out.write("                successDiv.style.display = 'none';\n");
      out.write("                setTimeout(() => successDiv.remove(), 300);\n");
      out.write("            }, 3000);\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        // Handle form submissions\n");
      out.write("        document.addEventListener('submit', function(event) {\n");
      out.write("            const form = event.target;\n");
      out.write("            if (form.closest('.modal') && !form.hasAttribute('data-direct-submit')) {\n");
      out.write("                event.preventDefault();\n");
      out.write("                submitModalForm(form);\n");
      out.write("            }\n");
      out.write("        });\n");
      out.write("        \n");
      out.write("        // Close modal when clicking outside\n");
      out.write("        window.onclick = function(event) {\n");
      out.write("            const modal = document.getElementById('formModal');\n");
      out.write("            if (event.target == modal) {\n");
      out.write("                closeModal();\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        // Close modal with Escape key\n");
      out.write("        document.addEventListener('keydown', function(event) {\n");
      out.write("            if (event.key === 'Escape') {\n");
      out.write("                closeModal();\n");
      out.write("            }\n");
      out.write("        });\n");
      out.write("        \n");
      out.write("        function showAddBillForm() {\n");
      out.write("            // Fetch approved service requests\n");
      out.write("            fetch('/alluring-decors/admin/bills?action=getApprovedRequests')\n");
      out.write("                .then(response => response.json())\n");
      out.write("                .then(requests => {\n");
      out.write("                    let requestOptions = '<option value=\"\">Select Approved Request</option>';\n");
      out.write("                    requests.forEach(request => {\n");
      out.write("                        const clientName = request.clientName || 'Unknown Client';\n");
      out.write("                        const location = request.location || 'No Location';\n");
      out.write("                        const area = request.areaSqft || '0';\n");
      out.write("                        requestOptions += '<option value=\"' + request.requestCode + '\" data-client=\"' + clientName + '\" data-area=\"' + area + '\" data-location=\"' + location + '\">' + request.requestCode + ' - ' + clientName + ' (' + location + ')</option>';\n");
      out.write("                    });\n");
      out.write("                    \n");
      out.write("                    openModal('Generate Bill', \n");
      out.write("                        '<form method=\"post\" action=\"/alluring-decors/admin/bills\" data-direct-submit onsubmit=\"closeModal(); return true;\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"action\" value=\"create\">' +\n");
      out.write("                        '<div class=\"form-group\"><label>Request Code:</label><select name=\"requestCode\" required onchange=\"updateBillDetails(this)\">' + requestOptions + '</select></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Client Name:</label><input type=\"text\" id=\"clientName\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Area (sqft):</label><input type=\"text\" id=\"areaSqft\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Location:</label><input type=\"text\" id=\"location\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Total Amount:</label><input type=\"number\" name=\"totalAmount\" step=\"0.01\" required></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Notes:</label><textarea name=\"notes\" rows=\"3\" required></textarea></div>' +\n");
      out.write("                        '<button type=\"submit\" class=\"btn-primary\">Generate Bill</button></form>'\n");
      out.write("                    );\n");
      out.write("                })\n");
      out.write("                .catch(error => {\n");
      out.write("                    console.error('Error fetching approved requests:', error);\n");
      out.write("                    openModal('Generate Bill', \n");
      out.write("                        '<form method=\"post\" action=\"/alluring-decors/admin/bills\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"action\" value=\"create\">' +\n");
      out.write("                        '<div class=\"form-group\"><label>Request ID:</label><input type=\"number\" name=\"requestId\" required placeholder=\"Enter approved request ID\"></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Total Amount:</label><input type=\"number\" name=\"totalAmount\" step=\"0.01\" required></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Notes:</label><textarea name=\"notes\" rows=\"3\" required></textarea></div>' +\n");
      out.write("                        '<button type=\"submit\" class=\"btn-primary\">Generate Bill</button></form>'\n");
      out.write("                    );\n");
      out.write("                });\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function updateBillDetails(selectElement) {\n");
      out.write("            const selectedOption = selectElement.options[selectElement.selectedIndex];\n");
      out.write("            if (selectedOption.value) {\n");
      out.write("                document.getElementById('clientName').value = selectedOption.getAttribute('data-client') || '';\n");
      out.write("                document.getElementById('areaSqft').value = selectedOption.getAttribute('data-area') || '';\n");
      out.write("                document.getElementById('location').value = selectedOption.getAttribute('data-location') || '';\n");
      out.write("            } else {\n");
      out.write("                document.getElementById('clientName').value = '';\n");
      out.write("                document.getElementById('areaSqft').value = '';\n");
      out.write("                document.getElementById('location').value = '';\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function showAddPaymentForm() {\n");
      out.write("            fetch('/alluring-decors/admin/bills?action=getBills')\n");
      out.write("                .then(response => response.json())\n");
      out.write("                .then(bills => {\n");
      out.write("                    let billOptions = '<option value=\"\">Select Bill</option>';\n");
      out.write("                    bills.forEach(bill => {\n");
      out.write("                        const billNumber = bill.billNumber || 'BILL' + bill.billId;\n");
      out.write("                        const requestCode = bill.requestCode || 'N/A';\n");
      out.write("                        const clientName = bill.clientName || 'Unknown Client';\n");
      out.write("                        const amount = bill.totalAmount || '0';\n");
      out.write("                        billOptions += '<option value=\"' + bill.billId + '\" data-billno=\"' + billNumber + '\" data-request=\"' + requestCode + '\" data-client=\"' + clientName + '\" data-amount=\"' + amount + '\">' + billNumber + ' - ' + clientName + ' (KES ' + amount + ')</option>';\n");
      out.write("                    });\n");
      out.write("                    \n");
      out.write("                    openModal('Record Payment', \n");
      out.write("                        '<form method=\"post\" action=\"/alluring-decors/admin/payments\" data-direct-submit onsubmit=\"closeModal(); return true;\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"action\" value=\"create\">' +\n");
      out.write("                        '<div class=\"form-group\"><label>Bill:</label><select name=\"billId\" required onchange=\"updatePaymentDetails(this)\">' + billOptions + '</select></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Bill Number:</label><input type=\"text\" id=\"billNumber\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Request Code:</label><input type=\"text\" id=\"requestCode\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Client Name:</label><input type=\"text\" id=\"paymentClientName\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Bill Amount:</label><input type=\"text\" id=\"billAmount\" readonly></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Payment Amount:</label><input type=\"number\" name=\"amount\" step=\"0.01\" required></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Notes:</label><textarea name=\"notes\" rows=\"2\" placeholder=\"Payment notes...\"></textarea></div>' +\n");
      out.write("                        '<button type=\"submit\" class=\"btn-primary\">Record Payment</button></form>'\n");
      out.write("                    );\n");
      out.write("                })\n");
      out.write("                .catch(error => {\n");
      out.write("                    console.error('Error fetching bills:', error);\n");
      out.write("                    openModal('Record Payment', \n");
      out.write("                        '<form method=\"post\" action=\"/alluring-decors/admin/payments\">' +\n");
      out.write("                        '<input type=\"hidden\" name=\"action\" value=\"create\">' +\n");
      out.write("                        '<div class=\"form-group\"><label>Bill ID:</label><input type=\"number\" name=\"billId\" required></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Amount:</label><input type=\"number\" name=\"amount\" step=\"0.01\" required></div>' +\n");
      out.write("                        '<div class=\"form-group\"><label>Notes:</label><textarea name=\"notes\" rows=\"2\" placeholder=\"Payment notes...\"></textarea></div>' +\n");
      out.write("                        '<button type=\"submit\" class=\"btn-primary\">Record Payment</button></form>'\n");
      out.write("                    );\n");
      out.write("                });\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        function updatePaymentDetails(selectElement) {\n");
      out.write("            const selectedOption = selectElement.options[selectElement.selectedIndex];\n");
      out.write("            if (selectedOption.value) {\n");
      out.write("                document.getElementById('billNumber').value = selectedOption.getAttribute('data-billno') || '';\n");
      out.write("                document.getElementById('requestCode').value = selectedOption.getAttribute('data-request') || '';\n");
      out.write("                document.getElementById('paymentClientName').value = selectedOption.getAttribute('data-client') || '';\n");
      out.write("                document.getElementById('billAmount').value = 'KES ' + (selectedOption.getAttribute('data-amount') || '0');\n");
      out.write("            } else {\n");
      out.write("                document.getElementById('billNumber').value = '';\n");
      out.write("                document.getElementById('requestCode').value = '';\n");
      out.write("                document.getElementById('paymentClientName').value = '';\n");
      out.write("                document.getElementById('billAmount').value = '';\n");
      out.write("            }\n");
      out.write("        }\n");
      out.write("        \n");
      out.write("        // Initialize on page load\n");
      out.write("        window.addEventListener('load', function() {\n");
      out.write("            // Prevent modal from closing when clicking inside modal content\n");
      out.write("            const modalContent = document.querySelector('.modal-content');\n");
      out.write("            if (modalContent) {\n");
      out.write("                modalContent.addEventListener('click', function(event) {\n");
      out.write("                    event.stopPropagation();\n");
      out.write("                });\n");
      out.write("            }\n");
      out.write("            \n");
      out.write("            // Restore last viewed section on page load\n");
      out.write("            const savedSection = localStorage.getItem('adminCurrentSection');\n");
      out.write("            console.log('Saved section:', savedSection); // Debug log\n");
      out.write("            if (savedSection) {\n");
      out.write("                setTimeout(() => {\n");
      out.write("                    loadContentProgrammatically(savedSection);\n");
      out.write("                }, 100);\n");
      out.write("            }\n");
      out.write("        });\n");
      out.write("        \n");
      out.write("        // Separate function for programmatic loading\n");
      out.write("        function loadContentProgrammatically(section) {\n");
      out.write("            const mainContent = document.getElementById('mainContent');\n");
      out.write("            \n");
      out.write("            // Update active menu item\n");
      out.write("            document.querySelectorAll('.sidebar-item').forEach(item => {\n");
      out.write("                item.classList.remove('active');\n");
      out.write("            });\n");
      out.write("            \n");
      out.write("            // Find and activate the correct menu item\n");
      out.write("            const menuItems = document.querySelectorAll('.sidebar-item');\n");
      out.write("            menuItems.forEach(item => {\n");
      out.write("                const onclick = item.getAttribute('onclick');\n");
      out.write("                if (onclick && onclick.includes(\"'\" + section + \"'\")) {\n");
      out.write("                    item.classList.add('active');\n");
      out.write("                }\n");
      out.write("            });\n");
      out.write("            \n");
      out.write("            // Load content based on section\n");
      out.write("            fetch('/alluring-decors/admin/' + section + '?ajax=true')\n");
      out.write("                .then(response => response.text())\n");
      out.write("                .then(html => {\n");
      out.write("                    mainContent.innerHTML = html;\n");
      out.write("                    console.log('Content loaded for section:', section); // Debug log\n");
      out.write("                })\n");
      out.write("                .catch(error => {\n");
      out.write("                    console.error('Error loading content:', error);\n");
      out.write("                    mainContent.innerHTML = `\n");
      out.write("                        <div class=\"dashboard-header\">\n");
      out.write("                            <h1 class=\"dashboard-title\">Error</h1>\n");
      out.write("                            <p class=\"dashboard-subtitle\">Failed to load content</p>\n");
      out.write("                        </div>\n");
      out.write("                    `;\n");
      out.write("                });\n");
      out.write("        }\n");
      out.write("    </script>\n");
      out.write("</body>\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
